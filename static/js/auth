// Login
async function login(username, password) {
    const { data, error } = await supabase.auth.signInWithPassword({ username, password });
    if (error) throw error;
    return data.user;
}

// Registro
async function register(username, password) {
    const { data, error } = await supabase.auth.signUp({ username, password });
    if (error) throw error;
    return data.user;
}

// Obtener usuario actual
async function getCurrentUser() {
    const { data: { user } } = await supabase.auth.getUser();
    return user;
}

// Logout
async function logout() {
    await supabase.auth.signOut();
}
